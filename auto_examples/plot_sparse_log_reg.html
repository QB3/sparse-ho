<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Sparse logistic regression &#8212; sparse-ho 0.1.dev documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          sparse-ho</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="index.html">Examples</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="https://github.com/QB3/sparse-ho">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/QB3/sparse-ho/">Fork sparse-ho on Github</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-plot-sparse-log-reg-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="sparse-logistic-regression">
<span id="sphx-glr-auto-examples-plot-sparse-log-reg-py"></span><h1>Sparse logistic regression<a class="headerlink" href="#sparse-logistic-regression" title="Permalink to this headline">¶</a></h1>
<p>This example shows how to perform hyperparameter optimisation
for sparse logistic regression using a held-out test set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Authors: Quentin Bertrand &lt;quentin.bertrand@inria.fr&gt;</span>
<span class="c1">#          Quentin Klopfenstein &lt;quentin.klopfenstein@u-bourgogne.fr&gt;</span>
<span class="c1">#</span>
<span class="c1"># License: BSD (3-clause)</span>


<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="kn">from</span> <span class="nn">sparse_ho.ho</span> <span class="kn">import</span> <span class="n">grad_search</span>
<span class="kn">from</span> <span class="nn">sparse_ho.utils</span> <span class="kn">import</span> <span class="n">Monitor</span>
<span class="kn">from</span> <span class="nn">sparse_ho.models</span> <span class="kn">import</span> <span class="n">SparseLogreg</span>
<span class="kn">from</span> <span class="nn">sparse_ho.criterion</span> <span class="kn">import</span> <span class="n">Logistic</span>
<span class="kn">from</span> <span class="nn">sparse_ho.implicit_forward</span> <span class="kn">import</span> <span class="n">ImplicitForward</span>
<span class="kn">from</span> <span class="nn">sparse_ho.forward</span> <span class="kn">import</span> <span class="n">Forward</span>
<span class="kn">from</span> <span class="nn">sparse_ho.grid_search</span> <span class="kn">import</span> <span class="n">grid_search</span>
<span class="kn">from</span> <span class="nn">sparse_ho.datasets.real</span> <span class="kn">import</span> <span class="n">get_rcv1</span>
<span class="kn">from</span> <span class="nn">sparse_ho.datasets.real</span> <span class="kn">import</span> <span class="n">get_real_sim</span>

<span class="nb">print</span><span class="p">(</span><span class="vm">__doc__</span><span class="p">)</span>

<span class="c1"># dataset = &#39;rcv1&#39;</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s1">&#39;simu&#39;</span>

<span class="k">if</span> <span class="n">dataset</span> <span class="o">==</span> <span class="s1">&#39;rcv1&#39;</span><span class="p">:</span>
    <a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_train</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_val</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_test</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_train</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_val</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_test</span></a> <span class="o">=</span> <span class="n">get_rcv1</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_train</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_val</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_test</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_train</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_val</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_test</span></a> <span class="o">=</span> <span class="n">get_real_sim</span><span class="p">()</span>


<span class="n">n_samples</span><span class="p">,</span> <span class="n">n_features</span> <span class="o">=</span> <a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.csc_matrix.html#scipy.sparse.csc_matrix.shape" title="scipy.sparse.csc_matrix.shape" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-attribute"><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span></a>

<span class="n">alpha_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csr_matrix" title="scipy.sparse.csr_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_train</span><span class="o">.</span><span class="n">T</span></a> <span class="o">@</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_train</span></a><span class="p">))</span>
<span class="n">alpha_max</span> <span class="o">/=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">n_samples</span>
<span class="n">log_alpha_max</span> <span class="o">=</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.log" title="numpy.log" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-data"><span class="n">np</span><span class="o">.</span><span class="n">log</span></a><span class="p">(</span><span class="n">alpha_max</span><span class="p">)</span>
<span class="n">log_alpha_min</span> <span class="o">=</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.log" title="numpy.log" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-data"><span class="n">np</span><span class="o">.</span><span class="n">log</span></a><span class="p">(</span><span class="n">alpha_max</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">maxit</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">log_alpha0</span> <span class="o">=</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.log" title="numpy.log" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-data"><span class="n">np</span><span class="o">.</span><span class="n">log</span></a><span class="p">(</span><span class="mf">0.1</span> <span class="o">*</span> <span class="n">alpha_max</span><span class="p">)</span>
<span class="n">tol</span> <span class="o">=</span> <span class="mf">1e-7</span>
<span class="n">use_sk</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># use_sk = False</span>

<span class="n">n_alphas</span> <span class="o">=</span> <span class="mi">10</span>
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">p_alphas</span></a> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">,</span> <span class="n">n_alphas</span><span class="p">)</span>
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">alphas</span></a> <span class="o">=</span> <span class="n">alpha_max</span> <span class="o">*</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">p_alphas</span></a>
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">log_alphas</span></a> <span class="o">=</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.log" title="numpy.log" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-data"><span class="n">np</span><span class="o">.</span><span class="n">log</span></a><span class="p">(</span><a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">alphas</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="grid-search">
<h2>Grid-search<a class="headerlink" href="#grid-search" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">SparseLogreg</span><span class="p">(</span><a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_train</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_train</span></a><span class="p">,</span> <span class="n">log_alpha0</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">criterion</span> <span class="o">=</span> <span class="n">Logistic</span><span class="p">(</span><a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_val</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_val</span></a><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
<span class="n">algo_grid</span> <span class="o">=</span> <span class="n">Forward</span><span class="p">(</span><span class="n">criterion</span><span class="p">,</span> <span class="n">use_sk</span><span class="o">=</span><span class="n">use_sk</span><span class="p">)</span>
<span class="n">monitor_grid</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">()</span>
<span class="n">grid_search</span><span class="p">(</span>
    <span class="n">algo_grid</span><span class="p">,</span> <span class="n">log_alpha_min</span><span class="p">,</span> <span class="n">log_alpha_max</span><span class="p">,</span> <span class="n">monitor_grid</span><span class="p">,</span>
    <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">log_alphas</span></a><span class="o">=</span><a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">log_alphas</span></a><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">tol</span><span class="p">)</span>
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs</span></a> <span class="o">=</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">(</span><span class="n">monitor_grid</span><span class="o">.</span><a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs</span></a><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[LibLinear][LibLinear][LibLinear][LibLinear][LibLinear][LibLinear][LibLinear][LibLinear][LibLinear][LibLinear]
</pre></div>
</div>
</div>
<div class="section" id="grad-search">
<h2>Grad-search<a class="headerlink" href="#grad-search" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">SparseLogreg</span><span class="p">(</span><a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_train</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_train</span></a><span class="p">,</span> <span class="n">log_alpha0</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">tol</span><span class="p">)</span>
<span class="n">criterion</span> <span class="o">=</span> <span class="n">Logistic</span><span class="p">(</span><a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.sparse.html#scipy.sparse.csc_matrix" title="scipy.sparse.csc_matrix" class="sphx-glr-backref-module-scipy-sparse sphx-glr-backref-type-scipy-optimize-class"><span class="n">X_val</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">y_val</span></a><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
<span class="n">monitor_grad</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">()</span>
<span class="n">algo</span> <span class="o">=</span> <span class="n">ImplicitForward</span><span class="p">(</span><span class="n">criterion</span><span class="p">,</span> <span class="n">tol_jac</span><span class="o">=</span><span class="n">tol</span><span class="p">,</span> <span class="n">n_iter_jac</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">use_sk</span><span class="o">=</span><span class="n">use_sk</span><span class="p">)</span>
<span class="n">grad_search</span><span class="p">(</span><span class="n">algo</span><span class="p">,</span> <span class="n">log_alpha0</span><span class="p">,</span> <span class="n">monitor_grad</span><span class="p">,</span> <span class="n">n_outer</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">tol</span><span class="p">)</span>
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs_grad</span></a> <span class="o">=</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">(</span><span class="n">monitor_grad</span><span class="o">.</span><a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs</span></a><span class="p">)</span>


<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">p_alphas_grad</span></a> <span class="o">=</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.exp" title="numpy.exp" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-data"><span class="n">np</span><span class="o">.</span><span class="n">exp</span></a><span class="p">(</span><a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">(</span><span class="n">monitor_grad</span><span class="o">.</span><a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">log_alphas</span></a><span class="p">))</span> <span class="o">/</span> <span class="n">alpha_max</span>

<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs_grad</span></a> <span class="o">=</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.array" title="numpy.array" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-function"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">(</span><span class="n">monitor_grad</span><span class="o">.</span><a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs</span></a><span class="p">)</span>

<span class="n">current_palette</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;colorblind&quot;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span>
    <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">p_alphas</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs</span></a><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">current_palette</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span>
    <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">p_alphas</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs</span></a><span class="p">,</span> <span class="s1">&#39;bo&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;0-order method (grid-search)&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">current_palette</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span>
    <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">p_alphas_grad</span></a><span class="p">,</span> <a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-np-class"><span class="n">objs_grad</span></a><span class="p">,</span> <span class="s1">&#39;bX&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;1-st order method&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">current_palette</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\lambda / \lambda_{\max}$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span>
    <span class="sa">r</span><span class="s2">&quot;$ \sum_i^n \log \left ( 1 + e^{-y_i^{\rm</span><span class="si">{val}</span><span class="s2">} X_i^{\rm</span><span class="si">{val}</span><span class="s2">} &quot;</span>
    <span class="sa">r</span><span class="s2">&quot;\hat \beta^{(\lambda)} } \right ) $&quot;</span><span class="p">)</span>

<span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img alt="plot sparse log reg" class="sphx-glr-single-img" src="../_images/sphx_glr_plot_sparse_log_reg_001.png" />
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[LibLinear]0 -st iterations over 100
jac obj 138252.94362715786
1 -st iterations over 100
jac obj 44956.64069868779
2 -st iterations over 100
jac obj 40722.12306601943
3 -st iterations over 100
jac obj 43175.20351111472
4 -st iterations over 100
jac obj 44470.63875158392
5 -st iterations over 100
jac obj 44665.95731562911
6 -st iterations over 100
jac obj 44582.95827531478
7 -st iterations over 100
jac obj 44544.90697646414
8 -st iterations over 100
jac obj 44561.12167409281
9 -st iterations over 100
jac obj 44578.85793305785
10 -st iterations over 100
jac obj 44578.11660872997
11 -st iterations over 100
jac obj 44566.906227892214
12 -st iterations over 100
jac obj 44556.923351259116
13 -st iterations over 100
jac obj 44552.80599542364
14 -st iterations over 100
jac obj 44553.348312465714
15 -st iterations over 100
jac obj 44555.65255288349
16 -st iterations over 100
jac obj 44557.64268076949
17 -st iterations over 100
jac obj 44558.58541810439
18 -st iterations over 100
jac obj 44558.639657185806
19 -st iterations over 100
jac obj 44558.26774532288
20 -st iterations over 100
jac obj 44557.859571755645
21 -st iterations over 100
jac obj 44557.60467477348
22 -st iterations over 100
jac obj 44557.52246446181
23 -st iterations over 100
jac obj 44557.54817917326
24 -st iterations over 100
jac obj 44557.607168217735
25 -st iterations over 100
jac obj 44557.65238462501
26 -st iterations over 100
jac obj 44557.66932612934
27 -st iterations over 100
jac obj 44557.664224714164
28 -st iterations over 100
jac obj 44557.649807880814
29 -st iterations over 100
jac obj 44557.636125463745
30 -st iterations over 100
jac obj 44557.627615523605
31 -st iterations over 100
jac obj 44557.624232901704
grad lambda 0.10711470615900484
value of lambda_k -12.307391152555693
[LibLinear]0 -st iterations over 100
jac obj 132981.2836805739
1 -st iterations over 100
jac obj 75403.89128261353
2 -st iterations over 100
jac obj 77830.52816260916
3 -st iterations over 100
jac obj 80987.21558933763
4 -st iterations over 100
jac obj 82280.5869678538
5 -st iterations over 100
jac obj 82733.08193744047
6 -st iterations over 100
jac obj 82899.67510742336
7 -st iterations over 100
jac obj 82988.00269712933
8 -st iterations over 100
jac obj 83052.42514621027
9 -st iterations over 100
jac obj 83098.13944881136
10 -st iterations over 100
jac obj 83121.85432647246
11 -st iterations over 100
jac obj 83123.1849276076
12 -st iterations over 100
jac obj 83105.567125663
13 -st iterations over 100
jac obj 83074.5369307237
14 -st iterations over 100
jac obj 83036.02136815355
15 -st iterations over 100
jac obj 82995.25296198794
16 -st iterations over 100
jac obj 82956.26384897978
17 -st iterations over 100
jac obj 82921.77410573717
18 -st iterations over 100
jac obj 82893.30600452702
19 -st iterations over 100
jac obj 82871.40496455347
20 -st iterations over 100
jac obj 82855.89196164587
21 -st iterations over 100
jac obj 82846.10416833387
22 -st iterations over 100
jac obj 82841.10191902507
23 -st iterations over 100
jac obj 82839.83348211709
24 -st iterations over 100
jac obj 82841.25703986603
25 -st iterations over 100
jac obj 82844.42360955785
26 -st iterations over 100
jac obj 82848.5267201699
27 -st iterations over 100
jac obj 82852.92538045472
28 -st iterations over 100
jac obj 82857.14680412452
29 -st iterations over 100
jac obj 82860.87484006988
30 -st iterations over 100
jac obj 82863.9292957931
31 -st iterations over 100
jac obj 82866.240466189
32 -st iterations over 100
jac obj 82867.82227032179
33 -st iterations over 100
jac obj 82868.74651561117
34 -st iterations over 100
jac obj 82869.11999670987
35 -st iterations over 100
jac obj 82869.06542782097
36 -st iterations over 100
jac obj 82868.70662260246
37 -st iterations over 100
jac obj 82868.15788357287
38 -st iterations over 100
jac obj 82867.51724073356
39 -st iterations over 100
jac obj 82866.86297592115
40 -st iterations over 100
jac obj 82866.25276809004
41 -st iterations over 100
jac obj 82865.72477489014
42 -st iterations over 100
jac obj 82865.30000626094
43 -st iterations over 100
jac obj 82864.98542614323
44 -st iterations over 100
jac obj 82864.77732107138
45 -st iterations over 100
jac obj 82864.66458482874
46 -st iterations over 100
jac obj 82864.63167548401
47 -st iterations over 100
jac obj 82864.6610973245
48 -st iterations over 100
jac obj 82864.7353408603
49 -st iterations over 100
jac obj 82864.83827712819
50 -st iterations over 100
jac obj 82864.95604791542
51 -st iterations over 100
jac obj 82865.07752261053
52 -st iterations over 100
jac obj 82865.19440746716
53 -st iterations over 100
jac obj 82865.30109689548
54 -st iterations over 100
jac obj 82865.39435186442
55 -st iterations over 100
jac obj 82865.47288035278
56 -st iterations over 100
jac obj 82865.53688144204
57 -st iterations over 100
jac obj 82865.58760009598
58 -st iterations over 100
jac obj 82865.6269254432
59 -st iterations over 100
jac obj 82865.65705253147
60 -st iterations over 100
jac obj 82865.68021671257
61 -st iterations over 100
jac obj 82865.69850133713
62 -st iterations over 100
jac obj 82865.71371331523
63 -st iterations over 100
jac obj 82865.72731716548
64 -st iterations over 100
jac obj 82865.7404161139
65 -st iterations over 100
jac obj 82865.75376826372
66 -st iterations over 100
jac obj 82865.76782643636
67 -st iterations over 100
jac obj 82865.78279162687
68 -st iterations over 100
jac obj 82865.79867178612
69 -st iterations over 100
jac obj 82865.81533958453
70 -st iterations over 100
jac obj 82865.83258471041
71 -st iterations over 100
jac obj 82865.85015797633
72 -st iterations over 100
jac obj 82865.86780595317
73 -st iterations over 100
jac obj 82865.88529599534
74 -st iterations over 100
jac obj 82865.90243234164
75 -st iterations over 100
jac obj 82865.91906451191
76 -st iterations over 100
jac obj 82865.93508950059
77 -st iterations over 100
jac obj 82865.95044934897
78 -st iterations over 100
jac obj 82865.96512560359
79 -st iterations over 100
jac obj 82865.97913199544
80 -st iterations over 100
jac obj 82865.99250644023
81 -st iterations over 100
jac obj 82866.00530320346
82 -st iterations over 100
jac obj 82866.01758582219
83 -st iterations over 100
jac obj 82866.02942114622
84 -st iterations over 100
jac obj 82866.04087466755
85 -st iterations over 100
jac obj 82866.05200715676
86 -st iterations over 100
jac obj 82866.0628725121
87 -st iterations over 100
jac obj 82866.07351665721
88 -st iterations over 100
jac obj 82866.0839772851
89 -st iterations over 100
jac obj 82866.09428423425
90 -st iterations over 100
jac obj 82866.10446029401
91 -st iterations over 100
jac obj 82866.114522258
92 -st iterations over 100
jac obj 82866.12448207571
93 -st iterations over 100
jac obj 82866.13434798871
94 -st iterations over 100
jac obj 82866.14412556836
95 -st iterations over 100
jac obj 82866.15381860673
96 -st iterations over 100
jac obj 82866.16342983449
97 -st iterations over 100
jac obj 82866.17296146396
98 -st iterations over 100
jac obj 82866.18241556687
99 -st iterations over 100
jac obj 82866.19179430931
grad lambda 0.020199713594682582
value of lambda_k -12.704402117303934
[LibLinear]0 -st iterations over 100
jac obj 102832.12026138959
1 -st iterations over 100
jac obj 96402.39198111033
2 -st iterations over 100
jac obj 94342.36477849024
3 -st iterations over 100
jac obj 93654.90777374324
4 -st iterations over 100
jac obj 93427.705542639
5 -st iterations over 100
jac obj 93340.30040699523
6 -st iterations over 100
jac obj 93301.72780046056
7 -st iterations over 100
jac obj 93280.60383783994
8 -st iterations over 100
jac obj 93264.69499607108
9 -st iterations over 100
jac obj 93249.35897875913
10 -st iterations over 100
jac obj 93233.33406730546
11 -st iterations over 100
jac obj 93216.82439040356
12 -st iterations over 100
jac obj 93200.54005187748
13 -st iterations over 100
jac obj 93185.22959518872
14 -st iterations over 100
jac obj 93171.4810408708
15 -st iterations over 100
jac obj 93159.66371941623
16 -st iterations over 100
jac obj 93149.93805904311
17 -st iterations over 100
jac obj 93142.29374088238
18 -st iterations over 100
jac obj 93136.59571886048
19 -st iterations over 100
jac obj 93132.62806170799
20 -st iterations over 100
jac obj 93130.13119199027
21 -st iterations over 100
jac obj 93128.83109704056
22 -st iterations over 100
jac obj 93128.46066139302
23 -st iterations over 100
jac obj 93128.77404142416
24 -st iterations over 100
jac obj 93129.55530803326
25 -st iterations over 100
jac obj 93130.6226210037
26 -st iterations over 100
jac obj 93131.82909375384
27 -st iterations over 100
jac obj 93133.0613384386
28 -st iterations over 100
jac obj 93134.23649659196
29 -st iterations over 100
jac obj 93135.29838589314
30 -st iterations over 100
jac obj 93136.21324111964
31 -st iterations over 100
jac obj 93136.96540021544
32 -st iterations over 100
jac obj 93137.55318338652
33 -st iterations over 100
jac obj 93137.98513106779
34 -st iterations over 100
jac obj 93138.27670194389
35 -st iterations over 100
jac obj 93138.44748177493
36 -st iterations over 100
jac obj 93138.51891500366
37 -st iterations over 100
jac obj 93138.51254202884
grad lambda 0.010145629164668515
value of lambda_k -12.914302228472538
[LibLinear]0 -st iterations over 100
jac obj 102977.00517332989
1 -st iterations over 100
jac obj 100576.5928137922
2 -st iterations over 100
jac obj 99574.40977031722
3 -st iterations over 100
jac obj 99084.16383546844
4 -st iterations over 100
jac obj 98825.07704784372
5 -st iterations over 100
jac obj 98681.09449811645
6 -st iterations over 100
jac obj 98596.74062659466
7 -st iterations over 100
jac obj 98544.86645822761
8 -st iterations over 100
jac obj 98512.09226371611
9 -st iterations over 100
jac obj 98491.37833064499
10 -st iterations over 100
jac obj 98478.67757537219
11 -st iterations over 100
jac obj 98471.4643976754
12 -st iterations over 100
jac obj 98468.05839899369
13 -st iterations over 100
jac obj 98467.289558375
14 -st iterations over 100
jac obj 98468.31893624418
15 -st iterations over 100
jac obj 98470.5353113168
16 -st iterations over 100
jac obj 98473.49114469311
17 -st iterations over 100
jac obj 98476.8599378042
18 -st iterations over 100
jac obj 98480.40597651782
19 -st iterations over 100
jac obj 98483.96190575832
20 -st iterations over 100
jac obj 98487.41174887837
21 -st iterations over 100
jac obj 98490.67798903011
22 -st iterations over 100
jac obj 98493.7117794225
23 -st iterations over 100
jac obj 98496.48556722535
24 -st iterations over 100
jac obj 98498.98755165802
25 -st iterations over 100
jac obj 98501.21750802273
26 -st iterations over 100
jac obj 98503.18361117337
27 -st iterations over 100
jac obj 98504.89998357362
28 -st iterations over 100
jac obj 98506.38477101151
29 -st iterations over 100
jac obj 98507.65861092598
30 -st iterations over 100
jac obj 98508.74340417139
31 -st iterations over 100
jac obj 98509.66133266044
32 -st iterations over 100
jac obj 98510.43408539331
33 -st iterations over 100
jac obj 98511.0822668409
34 -st iterations over 100
jac obj 98511.62496724204
35 -st iterations over 100
jac obj 98512.07947637282
36 -st iterations over 100
jac obj 98512.46112248734
37 -st iterations over 100
jac obj 98512.7832176201
38 -st iterations over 100
jac obj 98513.05709004795
39 -st iterations over 100
jac obj 98513.29218483265
40 -st iterations over 100
jac obj 98513.4962141526
41 -st iterations over 100
jac obj 98513.67534055914
42 -st iterations over 100
jac obj 98513.83437823324
43 -st iterations over 100
jac obj 98513.97699960138
44 -st iterations over 100
jac obj 98514.10593711473
45 -st iterations over 100
jac obj 98514.2231724433
46 -st iterations over 100
jac obj 98514.33010764766
47 -st iterations over 100
jac obj 98514.4277149745
48 -st iterations over 100
jac obj 98514.51666370669
49 -st iterations over 100
jac obj 98514.59742396252
50 -st iterations over 100
jac obj 98514.67034846832
51 -st iterations over 100
jac obj 98514.73573414618
52 -st iterations over 100
jac obj 98514.79386589021
53 -st iterations over 100
jac obj 98514.8450451905
54 -st iterations over 100
jac obj 98514.88960634793
55 -st iterations over 100
jac obj 98514.9279229486
56 -st iterations over 100
jac obj 98514.96040707447
57 -st iterations over 100
jac obj 98514.9875034573
58 -st iterations over 100
jac obj 98515.00968046908
59 -st iterations over 100
jac obj 98515.0274195065
60 -st iterations over 100
jac obj 98515.04120399998
61 -st iterations over 100
jac obj 98515.05150896532
62 -st iterations over 100
jac obj 98515.0587917381
grad lambda 0.0061969038868837445
value of lambda_k -13.04925594194872
[LibLinear]0 -st iterations over 100
jac obj 105066.56570496326
1 -st iterations over 100
jac obj 103055.61941094362
2 -st iterations over 100
jac obj 102290.62157184184
3 -st iterations over 100
jac obj 101868.53863305086
4 -st iterations over 100
jac obj 101616.114581377
5 -st iterations over 100
jac obj 101447.6179577264
6 -st iterations over 100
jac obj 101330.39534606521
7 -st iterations over 100
jac obj 101249.1756143372
8 -st iterations over 100
jac obj 101193.85933352954
9 -st iterations over 100
jac obj 101157.05448521726
10 -st iterations over 100
jac obj 101133.33765037573
11 -st iterations over 100
jac obj 101118.7934445181
12 -st iterations over 100
jac obj 101110.63334732555
13 -st iterations over 100
jac obj 101106.88332438536
14 -st iterations over 100
jac obj 101106.14309783696
15 -st iterations over 100
jac obj 101107.41096363602
16 -st iterations over 100
jac obj 101109.96187583104
17 -st iterations over 100
jac obj 101113.26526191916
18 -st iterations over 100
jac obj 101116.93063859963
19 -st iterations over 100
jac obj 101120.67171526185
20 -st iterations over 100
jac obj 101124.2822794439
21 -st iterations over 100
jac obj 101127.61932747258
22 -st iterations over 100
jac obj 101130.59053686672
23 -st iterations over 100
jac obj 101133.14432589278
24 -st iterations over 100
jac obj 101135.26150954272
25 -st iterations over 100
jac obj 101136.94804141592
26 -st iterations over 100
jac obj 101138.22861293945
27 -st iterations over 100
jac obj 101139.14103107026
28 -st iterations over 100
jac obj 101139.73136156058
29 -st iterations over 100
jac obj 101140.04984128519
30 -st iterations over 100
jac obj 101140.14755334532
31 -st iterations over 100
jac obj 101140.07383786277
32 -st iterations over 100
jac obj 101139.87438883439
33 -st iterations over 100
jac obj 101139.58996829926
34 -st iterations over 100
jac obj 101139.25565571117
35 -st iterations over 100
jac obj 101138.90054340396
36 -st iterations over 100
jac obj 101138.54778787232
37 -st iterations over 100
jac obj 101138.21493025417
38 -st iterations over 100
jac obj 101137.91440663913
39 -st iterations over 100
jac obj 101137.6541784224
40 -st iterations over 100
jac obj 101137.4384237794
41 -st iterations over 100
jac obj 101137.26824254703
42 -st iterations over 100
jac obj 101137.14233767973
43 -st iterations over 100
jac obj 101137.05764650005
44 -st iterations over 100
jac obj 101137.00990387396
45 -st iterations over 100
jac obj 101136.99412703878
46 -st iterations over 100
jac obj 101137.0050180427
47 -st iterations over 100
jac obj 101137.03728465093
48 -st iterations over 100
jac obj 101137.08588422879
49 -st iterations over 100
jac obj 101137.14619765765
50 -st iterations over 100
jac obj 101137.21414192842
51 -st iterations over 100
jac obj 101137.2862308498
52 -st iterations over 100
jac obj 101137.35959346783
53 -st iterations over 100
jac obj 101137.43195945803
54 -st iterations over 100
jac obj 101137.50162007417
55 -st iterations over 100
jac obj 101137.56737231174
56 -st iterations over 100
jac obj 101137.62845289793
57 -st iterations over 100
jac obj 101137.6844676091
58 -st iterations over 100
jac obj 101137.7353203214
59 -st iterations over 100
jac obj 101137.7811451625
60 -st iterations over 100
jac obj 101137.82224418795
61 -st iterations over 100
jac obj 101137.85903217082
62 -st iterations over 100
jac obj 101137.89198938878
63 -st iterations over 100
jac obj 101137.92162271029
64 -st iterations over 100
jac obj 101137.94843482703
65 -st iterations over 100
jac obj 101137.97290113472
66 -st iterations over 100
jac obj 101137.99545353132
67 -st iterations over 100
jac obj 101138.01647024858
68 -st iterations over 100
jac obj 101138.03627076384
69 -st iterations over 100
jac obj 101138.05511482611
70 -st iterations over 100
jac obj 101138.07320466526
71 -st iterations over 100
jac obj 101138.09068952496
72 -st iterations over 100
jac obj 101138.10767175232
73 -st iterations over 100
jac obj 101138.12421378442
74 -st iterations over 100
jac obj 101138.1403454836
75 -st iterations over 100
jac obj 101138.15607138645
76 -st iterations over 100
jac obj 101138.17137753483
77 -st iterations over 100
jac obj 101138.186237656
78 -st iterations over 100
jac obj 101138.20061854178
79 -st iterations over 100
jac obj 101138.21448454984
80 -st iterations over 100
jac obj 101138.227801209
81 -st iterations over 100
jac obj 101138.2405379568
82 -st iterations over 100
jac obj 101138.25267007164
83 -st iterations over 100
jac obj 101138.26417988513
84 -st iterations over 100
jac obj 101138.27505737646
85 -st iterations over 100
jac obj 101138.28530025344
86 -st iterations over 100
jac obj 101138.29491362805
grad lambda 0.0035530246363377114
value of lambda_k -13.130704742408918
[LibLinear]0 -st iterations over 100
jac obj 103580.82624264815
1 -st iterations over 100
jac obj 103455.90716065349
2 -st iterations over 100
jac obj 102974.18687079303
3 -st iterations over 100
jac obj 102724.8890108954
4 -st iterations over 100
jac obj 102613.74145206854
5 -st iterations over 100
jac obj 102560.10432084843
6 -st iterations over 100
jac obj 102526.96554071493
7 -st iterations over 100
jac obj 102501.50658485245
8 -st iterations over 100
jac obj 102480.04824595469
9 -st iterations over 100
jac obj 102461.79831814134
10 -st iterations over 100
jac obj 102446.67259397345
11 -st iterations over 100
jac obj 102434.60139564652
12 -st iterations over 100
jac obj 102425.36780759225
13 -st iterations over 100
jac obj 102418.62338373276
14 -st iterations over 100
jac obj 102413.94831444335
15 -st iterations over 100
jac obj 102410.90841132148
16 -st iterations over 100
jac obj 102409.0956102967
17 -st iterations over 100
jac obj 102408.15173633413
18 -st iterations over 100
jac obj 102407.77921535831
19 -st iterations over 100
jac obj 102407.74281516505
20 -st iterations over 100
jac obj 102407.86578401204
21 -st iterations over 100
jac obj 102408.02287392317
22 -st iterations over 100
jac obj 102408.13197764732
23 -st iterations over 100
jac obj 102408.14552497154
24 -st iterations over 100
jac obj 102408.04235529626
25 -st iterations over 100
jac obj 102407.8204760892
26 -st iterations over 100
jac obj 102407.49090188694
27 -st iterations over 100
jac obj 102407.07262293472
28 -st iterations over 100
jac obj 102406.58865859974
29 -st iterations over 100
jac obj 102406.06309458162
30 -st iterations over 100
jac obj 102405.51897395491
31 -st iterations over 100
jac obj 102404.97690189719
32 -st iterations over 100
jac obj 102404.45422625032
33 -st iterations over 100
jac obj 102403.96466609807
34 -st iterations over 100
jac obj 102403.51827487367
35 -st iterations over 100
jac obj 102403.12164072877
36 -st iterations over 100
jac obj 102402.77824336615
37 -st iterations over 100
jac obj 102402.48890222257
38 -st iterations over 100
jac obj 102402.25226518228
39 -st iterations over 100
jac obj 102402.06529958599
40 -st iterations over 100
jac obj 102401.92375807706
41 -st iterations over 100
jac obj 102401.8226008222
42 -st iterations over 100
jac obj 102401.75636295581
43 -st iterations over 100
jac obj 102401.719461897
44 -st iterations over 100
jac obj 102401.70644362795
45 -st iterations over 100
jac obj 102401.71217030569
grad lambda 0.0020604834475826056
value of lambda_k -13.180424842990655
[LibLinear]0 -st iterations over 100
jac obj 104475.32608823011
1 -st iterations over 100
jac obj 104032.9069912905
2 -st iterations over 100
jac obj 103832.88619135806
3 -st iterations over 100
jac obj 103739.32078678625
4 -st iterations over 100
jac obj 103689.35261916979
5 -st iterations over 100
jac obj 103657.6149826775
6 -st iterations over 100
jac obj 103636.03440161145
7 -st iterations over 100
jac obj 103621.4536904114
8 -st iterations over 100
jac obj 103612.00198740071
9 -st iterations over 100
jac obj 103606.30965971893
10 -st iterations over 100
jac obj 103603.34472590603
11 -st iterations over 100
jac obj 103602.33327664497
12 -st iterations over 100
jac obj 103602.6920152141
13 -st iterations over 100
jac obj 103603.97695614312
14 -st iterations over 100
jac obj 103605.84829368134
15 -st iterations over 100
jac obj 103608.04683958841
16 -st iterations over 100
jac obj 103610.37757705752
17 -st iterations over 100
jac obj 103612.69737164144
18 -st iterations over 100
jac obj 103614.90516137063
19 -st iterations over 100
jac obj 103616.9337594714
20 -st iterations over 100
jac obj 103618.74285110498
21 -st iterations over 100
jac obj 103620.3129875094
22 -st iterations over 100
jac obj 103621.64047597224
23 -st iterations over 100
jac obj 103622.733094458
24 -st iterations over 100
jac obj 103623.60656188986
25 -st iterations over 100
jac obj 103624.28168867939
26 -st iterations over 100
jac obj 103624.78212640207
27 -st iterations over 100
jac obj 103625.13263383733
28 -st iterations over 100
jac obj 103625.35777918318
29 -st iterations over 100
jac obj 103625.48100407634
30 -st iterations over 100
jac obj 103625.5239827599
31 -st iterations over 100
jac obj 103625.506218185
32 -st iterations over 100
jac obj 103625.44482516535
33 -st iterations over 100
jac obj 103625.35445843554
34 -st iterations over 100
jac obj 103625.24735034339
35 -st iterations over 100
jac obj 103625.13342889027
36 -st iterations over 100
jac obj 103625.02049196212
37 -st iterations over 100
jac obj 103624.91441797093
38 -st iterations over 100
jac obj 103624.81939686822
39 -st iterations over 100
jac obj 103624.73816870114
40 -st iterations over 100
jac obj 103624.67225964586
41 -st iterations over 100
jac obj 103624.62220784405
42 -st iterations over 100
jac obj 103624.58777342814
43 -st iterations over 100
jac obj 103624.56812889542
44 -st iterations over 100
jac obj 103624.56202749144
grad lambda 0.0015059803025820931
value of lambda_k -13.218677231209925
[LibLinear]0 -st iterations over 100
jac obj 104735.93271107193
1 -st iterations over 100
jac obj 104877.81968659953
2 -st iterations over 100
jac obj 104924.63997632559
3 -st iterations over 100
jac obj 104910.69795420945
4 -st iterations over 100
jac obj 104877.34901617232
5 -st iterations over 100
jac obj 104842.6985278275
6 -st iterations over 100
jac obj 104814.82860498995
7 -st iterations over 100
jac obj 104795.55874684548
8 -st iterations over 100
jac obj 104783.58584784422
9 -st iterations over 100
jac obj 104776.6876517204
10 -st iterations over 100
jac obj 104772.80537556474
11 -st iterations over 100
jac obj 104770.4179179185
12 -st iterations over 100
jac obj 104768.55859317383
13 -st iterations over 100
jac obj 104766.69736718343
14 -st iterations over 100
jac obj 104764.60204778505
15 -st iterations over 100
jac obj 104762.22269441177
16 -st iterations over 100
jac obj 104759.60870352456
17 -st iterations over 100
jac obj 104756.85440473602
18 -st iterations over 100
jac obj 104754.06574268058
19 -st iterations over 100
jac obj 104751.34133415086
20 -st iterations over 100
jac obj 104748.76287828067
21 -st iterations over 100
jac obj 104746.39144924268
22 -st iterations over 100
jac obj 104744.26735289342
23 -st iterations over 100
jac obj 104742.41201717932
24 -st iterations over 100
jac obj 104740.83091245416
25 -st iterations over 100
jac obj 104739.51685083797
26 -st iterations over 100
jac obj 104738.45325423358
27 -st iterations over 100
jac obj 104737.61714660456
28 -st iterations over 100
jac obj 104736.98174083709
29 -st iterations over 100
jac obj 104736.51856861215
30 -st iterations over 100
jac obj 104736.1991531064
31 -st iterations over 100
jac obj 104735.99625618319
32 -st iterations over 100
jac obj 104735.88474948853
33 -st iterations over 100
jac obj 104735.84216673362
34 -st iterations over 100
jac obj 104735.84899567878
grad lambda 0.0008451151973917852
value of lambda_k -13.241273231384211
[LibLinear]0 -st iterations over 100
jac obj 105493.44159572628
1 -st iterations over 100
jac obj 105278.91595853632
2 -st iterations over 100
jac obj 105162.12647112239
3 -st iterations over 100
jac obj 105090.13168907733
4 -st iterations over 100
jac obj 105053.63538576804
5 -st iterations over 100
jac obj 105035.1680096402
6 -st iterations over 100
jac obj 105025.81488680642
7 -st iterations over 100
jac obj 105021.11613298066
8 -st iterations over 100
jac obj 105018.84409073782
9 -st iterations over 100
jac obj 105017.81411474811
10 -st iterations over 100
jac obj 105017.34674253844
11 -st iterations over 100
jac obj 105017.04821313056
12 -st iterations over 100
jac obj 105016.7058233829
13 -st iterations over 100
jac obj 105016.22278686751
14 -st iterations over 100
jac obj 105015.57262826197
15 -st iterations over 100
jac obj 105014.76793224456
16 -st iterations over 100
jac obj 105013.84029303901
17 -st iterations over 100
jac obj 105012.82830335324
18 -st iterations over 100
jac obj 105011.77080456454
19 -st iterations over 100
jac obj 105010.7033388018
20 -st iterations over 100
jac obj 105009.65645484401
21 -st iterations over 100
jac obj 105008.6550590354
22 -st iterations over 100
jac obj 105007.71835342459
23 -st iterations over 100
jac obj 105006.86010938819
24 -st iterations over 100
jac obj 105006.0891370214
25 -st iterations over 100
jac obj 105005.4098681116
26 -st iterations over 100
jac obj 105004.8229992453
27 -st iterations over 100
jac obj 105004.32615639223
28 -st iterations over 100
jac obj 105003.91455100816
29 -st iterations over 100
jac obj 105003.58160401945
30 -st iterations over 100
jac obj 105003.31951956027
31 -st iterations over 100
jac obj 105003.11979548763
32 -st iterations over 100
jac obj 105002.97366254014
33 -st iterations over 100
jac obj 105002.87244839245
34 -st iterations over 100
jac obj 105002.80786665113
35 -st iterations over 100
jac obj 105002.77223395361
36 -st iterations over 100
jac obj 105002.75862071589
37 -st iterations over 100
jac obj 105002.7609427588
grad lambda 0.0005573043890374448
value of lambda_k -13.256958231127983
[LibLinear]0 -st iterations over 100
jac obj 105617.092110017
1 -st iterations over 100
jac obj 105443.6787343236
2 -st iterations over 100
jac obj 105451.255620136
3 -st iterations over 100
jac obj 105466.93989759177
4 -st iterations over 100
jac obj 105473.33822797639
5 -st iterations over 100
jac obj 105474.49367934199
6 -st iterations over 100
jac obj 105474.20283679511
7 -st iterations over 100
jac obj 105473.84750279904
8 -st iterations over 100
jac obj 105473.71235325387
9 -st iterations over 100
jac obj 105473.7797478287
10 -st iterations over 100
jac obj 105473.98103284437
11 -st iterations over 100
jac obj 105474.26178950196
12 -st iterations over 100
jac obj 105474.59007057692
13 -st iterations over 100
jac obj 105474.94980630133
14 -st iterations over 100
jac obj 105475.33306420877
15 -st iterations over 100
jac obj 105475.734766997
16 -st iterations over 100
jac obj 105476.14997254209
17 -st iterations over 100
jac obj 105476.57291060878
18 -st iterations over 100
jac obj 105476.99698506291
19 -st iterations over 100
jac obj 105477.41519486615
20 -st iterations over 100
jac obj 105477.82065711188
21 -st iterations over 100
jac obj 105478.20707416689
22 -st iterations over 100
jac obj 105478.56908158778
23 -st iterations over 100
jac obj 105478.90246420167
24 -st iterations over 100
jac obj 105479.2042521007
25 -st iterations over 100
jac obj 105479.47271811402
26 -st iterations over 100
jac obj 105479.70730064523
27 -st iterations over 100
jac obj 105479.90847449884
28 -st iterations over 100
jac obj 105480.0775895248
29 -st iterations over 100
jac obj 105480.21669359064
30 -st iterations over 100
jac obj 105480.32835305303
31 -st iterations over 100
jac obj 105480.41548076387
32 -st iterations over 100
jac obj 105480.4811788262
33 -st iterations over 100
jac obj 105480.52860085398
34 -st iterations over 100
jac obj 105480.56083640881
35 -st iterations over 100
jac obj 105480.58081857896
36 -st iterations over 100
jac obj 105480.59125432186
grad lambda 0.0003306688294029769
value of lambda_k -13.26675452275582
/home/qbe/sparse-ho/examples/plot_sparse_log_reg.py:109: UserWarning: Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
  plt.show(block=False)
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 1 minutes  2.755 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-sparse-log-reg-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/a9588e66a2dbadd4c004d1e34b56758d/plot_sparse_log_reg.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_sparse_log_reg.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/a1276ee1e0940f5e73943f79ccf7cf57/plot_sparse_log_reg.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_sparse_log_reg.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020-2020, sparse-ho contributors.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>